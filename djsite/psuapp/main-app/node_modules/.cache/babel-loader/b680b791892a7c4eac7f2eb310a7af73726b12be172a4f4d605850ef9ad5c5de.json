{"ast":null,"code":"const problemUrl = '/api/problem/';\nconst contactUrl = '/api/contact/';\nconst faqUrl = '/api/faq/';\nimport axios from \"axios\";\nexport function toURLParams(filters) {\n  let params = new URLSearchParams();\n  for (let f in filters) {\n    if (Array.isArray(filters[f])) {\n      for (let p of filters[f]) {\n        if (p) {\n          params.append(f, p);\n        }\n      }\n    } else if (filters[f] && filters[f].id) {\n      params.append(f, filters[f]['id']);\n    } else {\n      if (filters[f] != undefined) {\n        params.append(f, filters[f]);\n      }\n    }\n  }\n  return params;\n}\nasync function _save(url, obj) {\n  let response;\n  if (obj.id) {\n    response = await axios.patch(url + obj.id + '/', obj);\n  } else {\n    response = await axios.post(url, obj);\n  }\n  return response.data;\n}\nasync function _delete(url, obj) {\n  let response;\n  if (obj.id) {\n    response = await axios.delete(url + obj.id + '/', obj);\n  }\n  return response;\n}\nasync function _filter(url, filter) {\n  const response = await axios.get(url + '?' + toURLParams(filter));\n  return response.data;\n}\nasync function _getById(url, id) {\n  const response = await axios.get(url + id + '/');\n  return response.data;\n}\nfunction apiConstructor(apiUrl) {\n  let objects = {\n    async save(obj) {\n      return _save(apiUrl, obj);\n    },\n    async get(obj) {\n      return _getById(apiUrl, obj);\n    },\n    async filter(filter) {\n      return _filter(apiUrl, filter);\n    },\n    async delete(obj) {\n      return _delete(apiUrl, obj);\n    }\n  };\n  return {\n    url: apiUrl,\n    objects\n  };\n}\nexport let Problem = apiConstructor(problemUrl);\nexport let Faq = apiConstructor(faqUrl);\nexport let Contact = apiConstructor(contactUrl);","map":{"version":3,"names":["problemUrl","contactUrl","faqUrl","axios","toURLParams","filters","params","URLSearchParams","f","Array","isArray","p","append","id","undefined","_save","url","obj","response","patch","post","data","_delete","delete","_filter","filter","get","_getById","apiConstructor","apiUrl","objects","save","Problem","Faq","Contact"],"sources":["/Users/noone/Desktop/it-dj/dj-project/djsite/psuapp/main-app/api.js"],"sourcesContent":["const  problemUrl= '/api/problem/'\nconst  contactUrl= '/api/contact/'\nconst  faqUrl= '/api/faq/'\n\n\nimport axios from \"axios\"\n\n\nexport function toURLParams(filters){\n    let params = new URLSearchParams();\n    for (let f in filters){\n        if (Array.isArray(filters[f])){\n            for (let p of filters[f]){\n                if (p){\n                    params.append(f,p);\n                }\n            }\n        }else if (filters[f] && filters[f].id){\n            params.append(f,filters[f]['id'])\n\n        }else{\n                if (filters[f] !=undefined){\n            params.append(f,filters[f]);\n                }\n\n        }\n    }\n    return params\n}\n\nasync function _save(url,obj){\n    let response \n    if (obj.id){\n         response = await axios.patch(url+obj.id+'/',obj)\n    }else{\n         response = await axios.post(url,obj)\n    }\n    \n    return response.data\n}\n  \nasync function _delete(url,obj){\n    let response \n    if (obj.id){\n         response = await axios.delete(url+obj.id+'/',obj)\n    }\n\n    return response\n}\n    \nasync function _filter(url,filter){\n    const response = await axios.get(url+'?'+toURLParams(filter))\n    return response.data\n}\n\nasync function _getById(url,id){\n    const response = await axios.get(url+id+'/')\n    return response.data\n}\n                      \n\n\nfunction apiConstructor(apiUrl){\n\n    let objects= {\n        async save(obj){\n            return _save(apiUrl,obj)\n        },\n        async get(obj){\n            return _getById(apiUrl,obj)\n        },\n        async filter(filter){\n            return _filter(apiUrl,filter)\n        },\n        async delete(obj){\n            return _delete(apiUrl,obj)\n        },\n    }\n    return {\n        url:apiUrl,\n        objects,\n    }\n}           \n\n\n\nexport let Problem = apiConstructor(problemUrl)\nexport let Faq = apiConstructor(faqUrl)\nexport let Contact = apiConstructor(contactUrl)"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}