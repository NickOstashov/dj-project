{"ast":null,"code":"import NavBar from '@/components/NavBar.vue';\nimport ContactBar from '@/components/ContactBar.vue';\nimport { Application, User } from '@/api';\nexport default {\n  name: 'home-page',\n  name: 'article-table',\n  data() {\n    return {\n      searchFiedl: '',\n      selectUser: {},\n      appList: []\n    };\n  },\n  watch: {\n    searchFiedl() {\n      this.getArticle();\n    },\n    selectAuthor() {\n      this.getArticle();\n    }\n  },\n  mounted() {\n    this.getArticle();\n  },\n  methods: {\n    updateAutho(event) {\n      this.selectUser = event;\n    },\n    async getArticle() {\n      let user = await User.objects.who_iam();\n      let params = {\n        user__name__icontains: this.searchFiedl,\n        user: user.id\n      };\n      //let data =  (await axios.get('/api/article/my_article/',{params})).data\n      let data = await Applications.objects.filter(params);\n      this.appList = data;\n    }\n  },\n  components: {\n    NavBar,\n    ContactBar\n  }\n};","map":{"version":3,"mappings":"AAmCA,OAAOA,MAAK,MAAO,yBAAwB;AAC3C,OAAOC,UAAS,MAAO,6BAA4B;AACnD,SAASC,WAAW,EAACC,IAAG,QAAS,OAAM;AAEvC,eAAe;EACbC,IAAI,EAAE,WAAW;EAEfA,IAAI,EAAC,eAAe;EACrBC,IAAI,GAAE;IACD,OAAO;MACHC,WAAW,EAAC,EAAE;MACdC,UAAU,EAAC,CAAC,CAAC;MACbC,OAAO,EAAC;IAEZ;EACJ,CAAC;EACDC,KAAK,EAAC;IACFH,WAAW,GAAE;MACT,IAAI,CAACI,UAAU,EAAC;IACpB,CAAC;IACDC,YAAY,GAAE;MACV,IAAI,CAACD,UAAU,EAAC;IACpB;EACJ,CAAC;EACDE,OAAO,GAAE;IACL,IAAI,CAACF,UAAU,EAAC;EACpB,CAAC;EACDG,OAAO,EAAC;IACJC,WAAW,CAACC,KAAK,EAAC;MACd,IAAI,CAACR,UAAU,GAACQ,KAAI;IACxB,CAAC;IACD,MAAML,UAAU,GAAE;MACd,IAAIM,IAAG,GAAK,MAAOb,IAAI,CAACc,OAAO,CAACC,OAAO,EAAC;MACxC,IAAMC,MAAM,GAAC;QACTC,qBAAqB,EAAC,IAAI,CAACd,WAAW;QACtCU,IAAI,EAACA,IAAI,CAACK;MACd;MACA;MACA,IAAIhB,IAAG,GAAK,MAAMiB,YAAY,CAACL,OAAO,CAACM,MAAM,CAACJ,MAAM;MACpD,IAAI,CAACX,OAAM,GAAIH,IAAG;IACtB;EACJ,CAAC;EAEDmB,UAAU,EAAE;IACVxB,MAAM;IACNC;EACF;AACJ","names":["NavBar","ContactBar","Application","User","name","data","searchFiedl","selectUser","appList","watch","getArticle","selectAuthor","mounted","methods","updateAutho","event","user","objects","who_iam","params","user__name__icontains","id","Applications","filter","components"],"sourceRoot":"","sources":["/Users/noone/Desktop/it-dj/dj-project/djsite/psuapp/main-app/src/views/MyApplication.vue"],"sourcesContent":["<template>\n    <nav-bar/>\n    <div class = \"container\">\n    <h2> Мои заявки</h2>\n    <table class=\"table table-hover \">\n    <thead>\n        <tr>\n            <th> id </th>\n            <th> ФИО </th>\n            <th> номер телефона</th>\n            <th> должность </th>\n            <th> вид проблемы </th>\n            <th> статус </th>\n            <th> комметарии </th>\n        </tr>\n    </thead>\n        <tbody >\n            <tr v-for=\"app in appList\" :key=\"app.id\" >\n                <td>{{app.id}}</td>\n                <td>{{app.user_name}}</td>\n                <td>{{app.tel? app.tel:'-'}}</td>\n                <td>{{app.position}}</td>\n                <td>{{app.kind_of_problem.naming}}</td>\n                <td>{{app.get_status_display}}</td>\n                <td>{{app.comment? app.comment:'-'}}</td>\n            </tr>\n        </tbody>\n    </table>\n    </div>\n\n    <contact-bar/>\n</template>\n\n\n<script>\nimport NavBar from '@/components/NavBar.vue'\nimport ContactBar from '@/components/ContactBar.vue'\nimport { Application,User } from '@/api'\n\nexport default {\n  name: 'home-page',\n  \n    name:'article-table',\n   data(){\n        return {\n            searchFiedl:'',\n            selectUser:{},\n            appList:[\n            ]\n        }\n    },\n    watch:{\n        searchFiedl(){\n            this.getArticle()\n        },\n        selectAuthor(){\n            this.getArticle()\n        },\n    },\n    mounted(){\n        this.getArticle()\n    },\n    methods:{\n        updateAutho(event){\n            this.selectUser=event\n        },\n        async getArticle(){\n            let user  = await  User.objects.who_iam()\n            let   params={\n                user__name__icontains:this.searchFiedl,\n                user:user.id\n            }\n            //let data =  (await axios.get('/api/article/my_article/',{params})).data\n            let data =  await Applications.objects.filter(params)\n            this.appList = data\n        }\n    },\n\n    components: {\n      NavBar,\n      ContactBar,\n    },\n}\n\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}