{"ast":null,"code":"import NavBar from '@/components/NavBar.vue';\nimport ContactBar from '@/components/ContactBar.vue';\nimport { Application } from '@/api';\nexport default {\n  name: 'home-page',\n  data() {\n    return {\n      appList: [],\n      searchField: '',\n      filters: {}\n    };\n  },\n  methods: {\n    async deleteApplication(app, idx) {\n      await Application.objects.delete(app);\n      this.appList.splice(idx, 1);\n    },\n    async getApplication() {\n      let params = {\n        user_name__icontains: this.searchField,\n        ...this.filters\n      };\n      let data = await Application.objects.filter(params);\n      this.appList = data;\n    }\n  },\n  mounted() {\n    this.getApplication();\n  },\n  components: {\n    NavBar,\n    ContactBar\n  }\n};","map":{"version":3,"mappings":"AA2CA,OAAOA,MAAK,MAAO,yBAAwB;AAC3C,OAAOC,UAAS,MAAO,6BAA4B;AACnD,SAASC,WAAU,QAAS,OAAM;AAElC,eAAe;EACbC,IAAI,EAAE,WAAW;EACfC,IAAI,GAAE;IACF,OAAM;MACJC,OAAO,EAAC,EAAE;MACVC,WAAW,EAAC,EAAE;MACdC,OAAO,EAAC,CAAC;IACX;EACJ,CAAC;EAEDC,OAAO,EAAC;IACJ,MAAMC,iBAAiB,CAACC,GAAG,EAACC,GAAG,EAAC;MAC5B,MAAMT,WAAW,CAACU,OAAO,CAACC,MAAM,CAACH,GAAG;MACpC,IAAI,CAACL,OAAO,CAACS,MAAM,CAACH,GAAG,EAAC,CAAC;IAC7B,CAAC;IAED,MAAMI,cAAc,GAAE;MAClB,IAAIC,MAAK,GAAI;QACTC,oBAAoB,EAAC,IAAI,CAACX,WAAW;QACrC,GAAG,IAAI,CAACC;MACZ;MACA,IAAIH,IAAG,GAAI,MAAMF,WAAW,CAACU,OAAO,CAACM,MAAM,CAACF,MAAM;MAClD,IAAI,CAACX,OAAM,GAAID,IAAG;IACtB;EAEJ,CAAC;EAEDe,OAAO,GAAE;IACL,IAAI,CAACJ,cAAc,EAAC;EACxB,CAAC;EAEDK,UAAU,EAAE;IACVpB,MAAM;IACNC;EACF;AACJ","names":["NavBar","ContactBar","Application","name","data","appList","searchField","filters","methods","deleteApplication","app","idx","objects","delete","splice","getApplication","params","user_name__icontains","filter","mounted","components"],"sourceRoot":"","sources":["/Users/noone/Desktop/it-dj/dj-project/djsite/psuapp/main-app/src/views/ApplicationView.vue"],"sourcesContent":["<template>\n    <nav-bar/>\n    <div class=\"container  row app-box\">\n        <div class = \"col-2\">\n            <h3>Заявки</h3>\n            <input v-model=\"filters.user_name__icontains\" class=\"app-search__name\" placeholder=\"ФИО\"/>\n        </div>   \n        <div class = \"col-10\">\n        <div class = 'title'>\n            <h1>Заявки</h1>\n        </div>   \n        <table class=\"table table-hover \">\n        <thead>\n            <tr>\n                <th> id </th>\n                <th> ФИО </th>\n                <th> номер телефона</th>\n                <th> должность </th>\n                <th> вид проблемы </th>\n                <th> комметарии </th>\n                <th> </th>\n            </tr>\n        </thead>\n            <tbody >\n                <tr v-for=\"(app,idx) in appList\" :key=\"app.id\" >\n                    <td>{{app.id}}</td>\n                    <td>{{app.user_name}}</td>\n                    <td>{{app.tel? app.tel:'-'}}</td>\n                    <td>{{app.position}}</td>\n                    <td>{{app.kind_of_problem}}</td>\n                    <td>{{app.comment? app.comment:'-'}}</td>\n                    <td><button @click=\"deleteApplication(app,idx)\" class = \"btn-danger\">удалить </button></td>\n                </tr>\n            </tbody>\n        </table>\n        </div>\n    </div> \n\n    <contact-bar/>\n</template>\n\n\n<script>\nimport NavBar from '@/components/NavBar.vue'\nimport ContactBar from '@/components/ContactBar.vue'\nimport { Application } from '@/api'\n\nexport default {\n  name: 'home-page',\n    data(){\n        return{\n          appList:[],\n          searchField:'',\n          filters:{},\n        }\n    },\n\n    methods:{\n        async deleteApplication(app,idx){\n            await Application.objects.delete(app)\n            this.appList.splice(idx,1)\n        },\n\n        async getApplication(){\n            let params = {\n                user_name__icontains:this.searchField,\n                ...this.filters\n            }\n            let data = await Application.objects.filter(params)\n            this.appList = data \n        }\n\n    },\n\n    mounted(){\n        this.getApplication()\n    },\n\n    components: {\n      NavBar,\n      ContactBar\n    }\n}\n\n</script>\n\n<style>\n.title{\n    display:flex;\n    justify-content: center;\n    margin-bottom: 50px;\n}\n\n.app-box{\n    min-height: 800px;\n}\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}